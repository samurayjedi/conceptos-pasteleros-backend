"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[343],{1343:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(4316),i=(n(3948),n(7294)),c=n(6486),l=n.n(c),Z=n(3999),o=n(9887),d=n(8129),a=n.n(d),s=n(6914),h=n(3838),p=n(7645),g=n(7750),u=n(8979),m=n(7896),C=n(9573),B=n(6011),k=n(3694),w=n(6926),X=n(8732),f=n(6867),x=n(2981),I=n(1508),y=n(2658),P=n(9010),$=n(7638),v=n(4680),D=n(5503),S=n(813),N=n(55),b=n(3343),G=n(6070),q=n(7957),A=n(1733),E=n(6130),L=n(8045),T=n(5944);const _=i.createContext({setDialog:()=>{},setId:()=>0});function j(){const{t:e}=(0,o.$G)(),[t,n]=(0,i.useState)(null),[r,c]=(0,i.useState)(0);return(0,T.BX)(_.Provider,{value:(0,i.useMemo)((()=>({setDialog:n,setId:c})),[]),children:[(0,T.tZ)(L.Z,{children:(0,T.BX)(L.$,{title:e("Published recipes"),children:[(0,T.tZ)(H,{}),(0,T.tZ)(F,{children:(0,T.tZ)(s.Z,{color:"secondary",LinkComponent:Z.rU,href:a()("new-recipe"),children:e("Add new")})})]})}),(0,T.BX)(h.Z,{maxWidth:"sm",open:Boolean(t),children:[(0,T.tZ)(p.Z,{children:t?t.title:""}),(0,T.tZ)(g.Z,{children:(0,T.tZ)("div",{dangerouslySetInnerHTML:{__html:t?t.content:""}})}),(0,T.tZ)(u.Z,{children:(0,T.tZ)(s.Z,{color:"secondary",onClick:()=>n(null),children:e("Close")})})]}),(0,T.BX)(h.Z,{open:Boolean(r),children:[(0,T.tZ)(p.Z,{children:e(`Are you sure you want delete the recipe ID ${r}?`)}),(0,T.BX)(u.Z,{children:[(0,T.tZ)(s.Z,{color:"error",onClick:()=>{Z.Nd.get(a()("delete-recipe",{id:r}),{},{onFinish:()=>c(0)})},children:e("Do it!!")}),(0,T.tZ)(s.Z,{color:"secondary",onClick:()=>c(0),children:e("No")})]})]})]})}const H=i.memo((()=>{const{t:e}=(0,o.$G)(),t=(0,Z.qt)().props.recipes;return(0,T.tZ)(m.Z,{component:z,children:(0,T.BX)(C.Z,{children:[(0,T.tZ)(B.Z,{children:(0,T.BX)(k.Z,{children:[(0,T.tZ)(w.Z,{}),(0,T.tZ)(w.Z,{}),(0,T.tZ)(w.Z,{align:"center",children:e("ID")}),(0,T.tZ)(w.Z,{align:"center",children:e("Name")}),(0,T.tZ)(w.Z,{align:"center",children:e("Categories")}),(0,T.tZ)(w.Z,{align:"center",children:e("Cost")}),(0,T.tZ)(w.Z,{align:"center",children:e("Premium")}),(0,T.tZ)(w.Z,{align:"center",children:e("Create at")}),(0,T.tZ)(w.Z,{align:"center",children:e("Set up")}),(0,T.tZ)(w.Z,{align:"center",children:e("Actions")})]})}),(0,T.tZ)(X.Z,{children:t.map((e=>(0,T.tZ)(M,{recipe:e})))}),(0,T.tZ)(U,{})]})})}),l().isEqual);function M({recipe:{id:e,name:t,cover:n,cost:r,premium:c,created_at:l,setup:d,categories:s,preparations:h},...p}){const{t:g}=(0,o.$G)(),[u,m]=(0,i.useState)(!1),{setDialog:C,setId:B}=(0,i.useContext)(_),X=(0,i.useCallback)((()=>m((e=>!e))),[]);return(0,T.BX)(T.HY,{children:[(0,T.BX)(k.Z,{...p,children:[(0,T.tZ)(w.Z,{children:(0,T.tZ)(f.Z,{onClick:X,children:u?(0,T.tZ)(S.Z,{}):(0,T.tZ)(D.Z,{})})}),(0,T.tZ)(w.Z,{children:(0,T.tZ)("img",{src:`/storage/uploads/${n}`,alt:`/storage/uploads/${n}`,width:"64px",height:"64px"})}),(0,T.tZ)(w.Z,{align:"center",children:e}),(0,T.tZ)(w.Z,{children:t}),(0,T.tZ)(w.Z,{children:s.map((e=>e.label)).join(", ")}),(0,T.tZ)(w.Z,{align:"center",children:c?r:g("No")}),(0,T.tZ)(w.Z,{align:"center",children:(0,T.tZ)(f.Z,{children:c?(0,T.tZ)(N.Z,{}):(0,T.tZ)(b.Z,{})})}),(0,T.tZ)(w.Z,{align:"center",children:l}),(0,T.tZ)(w.Z,{children:d?(0,T.tZ)(f.Z,{onClick:()=>C({title:g("Setup"),content:d}),children:(0,T.tZ)(G.Z,{})}):(0,T.tZ)(f.Z,{children:(0,T.tZ)(b.Z,{})})}),(0,T.BX)(w.Z,{align:"center",children:[(0,T.tZ)(f.Z,{LinkComponent:Z.rU,href:a()("update-recipe",{id:e}),children:(0,T.tZ)(q.Z,{})}),(0,T.tZ)(f.Z,{onClick:()=>B(e),children:(0,T.tZ)(A.Z,{})})]})]}),(0,T.tZ)(k.Z,{sx:{"& > *":{borderBottom:"unset"}},children:(0,T.tZ)(w.Z,{colSpan:10,style:{paddingBottom:0,paddingTop:0},children:(0,T.tZ)(O,{collapse:u,preparations:h})})})]})}function O({collapse:e,preparations:t}){const{t:n}=(0,o.$G)(),{setDialog:r}=(0,i.useContext)(_);return(0,T.tZ)(x.Z,{in:e,timeout:"auto",unmountOnExit:!0,children:(0,T.BX)(I.Z,{sx:{margin:1},children:[(0,T.tZ)(y.Z,{variant:"h6",gutterBottom:!0,component:"div",children:n("Preparations")}),(0,T.BX)(C.Z,{size:"small",children:[(0,T.tZ)(B.Z,{children:(0,T.BX)(k.Z,{children:[(0,T.tZ)(w.Z,{align:"center",children:n("ID")}),(0,T.tZ)(w.Z,{align:"center",children:n("Name")}),(0,T.tZ)(w.Z,{align:"center",children:n("Ingredients")}),(0,T.tZ)(w.Z,{align:"center",children:n("Instructions")})]})}),(0,T.tZ)(X.Z,{children:t.map((({id:e,name:t,ingredients:i,instructions:c})=>(0,T.BX)(k.Z,{children:[(0,T.tZ)(w.Z,{align:"center",children:e}),(0,T.tZ)(w.Z,{children:t}),(0,T.tZ)(w.Z,{align:"center",children:(0,T.tZ)(f.Z,{onClick:()=>r({title:n("Ingredients"),content:(()=>{let e='<ul style="padding: 0; list-style: none;">';return i.forEach(((t,n)=>{e+=`<li>${n+1} - ${t.weight} gr: ${t.name}</li>`})),e+="</ul>",e})()}),children:(0,T.tZ)(E.Z,{})})}),(0,T.tZ)(w.Z,{align:"center",children:(0,T.tZ)(f.Z,{onClick:()=>r({title:n("Instructions"),content:c}),children:(0,T.tZ)(G.Z,{})})})]})))})]})]})})}function U(){const{page:e,count:t,rows:n}=(0,Z.qt)().props;return(0,T.tZ)(P.Z,{children:(0,T.tZ)(k.Z,{children:(0,T.tZ)($.Z,{rowsPerPageOptions:[5,10,25],colSpan:10,count:t,rowsPerPage:n,page:e,onRowsPerPageChange:t=>Z.Nd.get(a()("recipes",{page:e,rows:parseInt(t.target.value,10)})),onPageChange:(e,t)=>Z.Nd.get(a()("recipes",{page:t,rows:n}))})})})}const z=(0,r.Z)(v.Z,{target:"ecxr6hs1"})((({theme:e})=>({padding:e.spacing(4)})),""),F=(0,r.Z)("div",{target:"ecxr6hs0"})((({theme:e})=>({width:"100%",paddingTop:e.spacing(4),display:"flex",justifyContent:"flex-end"})),"")}}]);